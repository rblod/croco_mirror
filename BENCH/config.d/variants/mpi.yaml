# mpi
mpi-{tasks}:
  configure: --with-parallel=mpi --with-splitting={case.mpi.{tasks}.splitting} FC=mpifort
  tuning_familly: gnu
  environ:
    OMP_NUM_THREADS: 1
  command_prefix: mpirun -np {tasks} {tuning.mpi_options}
  unpack:
    tasks: [2, 4, 6, 8, 16, 32, 64]
  requires:
    cpu: "{tasks}"
